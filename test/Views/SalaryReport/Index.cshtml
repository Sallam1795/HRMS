@model List<test.Data.ViewModels.SalaryReportViewModel>
@{
    ViewData["Title"] = "Index";
}

<div class="card">
    <div class="card-header">
        <div class="card-title-wrap bar-success">
            <h4 class="card-title">Salary report</h4>
        </div>
    </div>
    <div class="card-body collapse show">
        <div class="card-block card-dashboard">
            <div class="row">
                <form class="form-inline" method="get">
                    <div class="form-group mx-sm-3 md-2">
                        <div class="dataTables_length" id="DataTables_Table_0_length">
                            <label>
                                Year
                                <select id="year" name="year" aria-controls="DataTables_Table_0" class="form-control form-control-sm">
                                    <option selected="@(ViewData["Year"].ToString() == "2020" ? true: false)" value="2020">2020</option>
                                    <option selected="@(ViewData["Year"].ToString() == "2021" ? true : false)" value="2021">2021</option>
                                    <option selected="@(ViewData["Year"].ToString() == "2022" ? true: false)" value="2022">2022</option>
                                    <option selected="@(ViewData["Year"].ToString() == "2023" ? true : false)" value="2023">2023</option>
                                    <option selected="@(ViewData["Year"].ToString() == "2024" ? true: false)" value="2024">2025</option>
                                    <option selected="@(ViewData["Year"].ToString() == "2025" ? true : false)" value="2025">2025</option>
                                </select>
                            </label>
                        </div>
                    </div>
                    <div class="form-group mx-sm-3 md-2">
                        <div class="dataTables_length" id="DataTables_Table_0_length">
                            <label>
                                Month:
                                <select id="month" name="month" class="form-control form-control-sm">
                                    <option selected="@(ViewData["Month"].ToString() == "1" ? true: false)" value="1">1</option>
                                    <option selected="@(ViewData["Month"].ToString() == "2" ? true : false)" value="2">2</option>
                                    <option selected="@(ViewData["Month"].ToString() == "3" ? true: false)" value="3">3</option>
                                    <option selected="@(ViewData["Month"].ToString() == "4" ? true : false)" value="4">4</option>
                                    <option selected="@(ViewData["Month"].ToString() == "5" ? true: false)" value="5">5</option>
                                    <option selected="@(ViewData["Month"].ToString() == "6" ? true : false)" value="6">6</option>
                                    <option selected="@(ViewData["Month"].ToString() == "7" ? true: false)" value="7">7</option>
                                    <option selected="@(ViewData["Month"].ToString() == "8" ? true : false)" value="8">8</option>
                                    <option selected="@(ViewData["Month"].ToString() == "9" ? true: false)" value="9">9</option>
                                    <option selected="@(ViewData["Month"].ToString() == "10" ? true : false)" value="10">10</option>
                                    <option selected="@(ViewData["Month"].ToString() == "11" ? true: false)" value="11">11</option>
                                    <option selected="@(ViewData["Month"].ToString() == "12" ? true : false)" value="12">12</option>
                                </select>
                            </label>
                        </div>
                    </div>
                    <button  class="btn btn-warning mx-3">Search <i class="ft-search"></i></button>
                </form>
            </div>
            <div class="m-3"></div>
            <table class="table table-striped table-bordered">
                <thead>
                    <tr class="text-center">
                        <th>Id</th>
                        <th>Employee Name</th>
                        <th>Phone</th>
                        <th>Salary</th>
                        <th>Attendance days</th>
                        <th>Absent days</th>
                        <th>Overtime hours</th>
                        <th>Discount hours</th>
                        <th>Extra</th>
                        <th>discount</th>
                        <th>Total</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr class="text-center">
                            <td>@item.Id</td>
                            <td>@item.Name</td>
                            <td>@item.Phone</td>
                            <td>@item.Salary</td>
                            <td>@item.AttendanceDays</td>
                            <td>@item.AbsentDays</td>
                            <td>@item.OverTimeHours</td>
                            <td>@item.DiscountHours</td>
                            <td>@item.Extra</td>
                            <td>@item.Discount</td>
                            <td>@item.Total</td>

                            @{
                                var param = new Dictionary<string, string>
                                                                                {
                                    { "Id",  @item.Id.ToString() },
                                    { "Year", @item.DateSearched.Year.ToString() },
                                    { "Month", @item.DateSearched.Month.ToString() }

                                };
                            }

                            <td><a asp-action="MonthDtails" asp-all-route-data="param" class="btn btn-secondary">Details</a></td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>